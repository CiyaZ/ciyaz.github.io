# 模块化机制

JavaScript在ES6之前一直没有标准的模块化机制，这对编写大型项目非常不利。之后出现了CommonJS规范（用于NodeJS），AMD规范等，实现了JavaScript的模块化机制。ES6根据这些已有的规范，推出了语言级的模块化标准。

## export和import实现模块的暴露和加载

export可以暴露变量、类或是方法。下面代码中，通过export暴露了类的定义：

```javascript
export class Point {
    constructor(x, y) {
        this.x = x;
        this.y = y;
    }

    toString() {
        return '(' + this.x + ',' + this.y + ')';
    }
}

export class ColorPoint extends Point{
    constructor(x, y, color) {
        super(x, y);
        this.color = color;
    }

    toString() {
        return '(' + this.x + ',' + this.y + ',' + this.color + ')';
    }
}
```

在另一个文件中可以通过`import`引入模块中暴露的变量、方法或类：

```javascript
import {Point,ColorPoint} from './point';

let c = new ColorPoint(1, 2, 'RED');
console.log(c.toString());
```

注：上面代码没有经过测试，因为使用CommonJS的Node无法运行上述代码，浏览器（Chrome 69，Firefox 62）现在也不支持，不能直接运行，但是似乎Webstorm提供了语法支持。

## 一次暴露多个内容

```javascript
let i = 1;
let foo = function () {
};
export {i, foo};
```

前面的写法中，我们直接把`export`关键字加到了`class`前面，这里我们也可以使用大括号，一次暴露多个内容。

## 使用as命名

我们可以使用`as`关键字给暴露的内容指定一个别名。

```javascript
export {i as magicNum, foo};
```
