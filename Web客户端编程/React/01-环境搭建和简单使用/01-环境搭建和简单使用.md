# React环境搭建和简单使用

React是一套用于构建用户界面的JavaScript库。React来自Facebook，最初用于开发Instagram，后被Facebook开源。React的同类产品有Angular，Vue等，这两个框架在其他章节中已经介绍过了。

## 搭建React开发环境

React提供了命令行工具`create-react-app`用于快速搭建项目模板，如下图所示，我们可以直接使用webstorm创建一个React项目。

![](res/1.png)

如果使用命令行创建项目也是一样的，首先我们必须有node环境和npm，然后执行下列命令：

```
npm install -g create-react-app
create-react-app my-app
```

对于npm5.2.0+，我们还可以使用`npx`写法：
```
npx create-react-app my-app
```

常见完成后，会在控制台中提示成功，并告诉我们一些构建和运行命令：

![](res/2.png)

运行`npm start`，然后使用浏览器访问`http://localhost:3000`，就可以看到模板项目启动了。

![](res/3.png)

注：虽然我们仅仅是想写个demo，但是基于npm辣鸡的包管理机制和国内的网络状况，该过程会下载近2w个文件到项目目录中，约150MB，比较慢。

## 使用antd组件库

下面介绍如何在React项目中引入阿里开发的antd组件库。

文档：[https://ant.design/docs/react/use-with-create-react-app-cn](https://ant.design/docs/react/use-with-create-react-app-cn)

安装antd和一些需要的依赖。

```
npm install --save antd react-app-rewired babel-plugin-import
```

* 注：`react-app-rewired`和`babel-plugin-import`用于实现CSS的按需加载

修改package.json。

```json
"scripts": {
  "start": "react-app-rewired start",
  "build": "react-app-rewired build",
  "test": "react-app-rewired test"
},
```

在项目根目录创建一个`config-overrides.js`，用于覆盖`create-react-app`的默认配置：

```javascript
const {injectBabelPlugin} = require('react-app-rewired');

module.exports = function override(config, env) {
    config = injectBabelPlugin(
        ['import', {libraryName: 'antd', libraryDirectory: 'es', style: 'css'}],
        config,
    );
    return config;
};
```

这样，我们就可以在`create-react-app`创建的工程中正常使用`antd`组件库了。
