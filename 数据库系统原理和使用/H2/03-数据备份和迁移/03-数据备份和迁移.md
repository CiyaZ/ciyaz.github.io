# 数据备份和迁移

尽管H2是嵌入式数据库，但是直接拷贝数据文件仍然不是推荐做法，如果数据迁移时H2数据库版本不同，它们数据文件的格式就可能不同，具有一定的风险。

之前我们下载的H2数据库包中，除了H2控制台，还有一些工具程序。其中包括数据导出导入脚本。

## SQL文件导出

H2中可以使用`script to <路径>`的形式导出数据到SQL文件，我们可以在H2控制台运行SQL的窗口中执行该命令。

```sql
script to 'E:/backup.sql'
```

恢复数据时，直接把整个SQL文件重新执行一下就行了。

## 数据备份

`backup to <路径>`用于备份数据，它会直接把`<数据库名>.mv.db`压缩为`zip`格式导出。

```sql
backup to 'E:/backup.zip'
```

## 备份恢复

恢复直接将`zip`解压缩，让应用程序指向这个`db`文件就可以了。
