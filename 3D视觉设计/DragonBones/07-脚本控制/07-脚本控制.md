# 脚本控制

## 控制动画的播放

![](res/1.png)

下面例子代码中，我们实现了按A键播放行走动画，放开A键播放idle动画。

PlayerController.cs
```csharp
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

using DragonBones;

public class PlayerController : MonoBehaviour
{
    // DragonBones的动画组件脚本
    private UnityArmatureComponent uac;

    void Start()
    {
        uac = this.transform.Find("Armature").GetComponent<UnityArmatureComponent>();
    }

    void Update()
    {
        if(Input.GetKey(KeyCode.A))
        {
            setAnim("walk");
        }
        else
        {
            setAnim("idle");
        }
    }

    void setAnim(string animName)
    {
        // 如果正在播放的动画是当前要设置的动画，就不触发动画更新，否则就更新当前播放的动画
        if(uac.animation.lastAnimationName != animName)
        {
            uac.animation.Play(animName);
        }
    }
}
```
